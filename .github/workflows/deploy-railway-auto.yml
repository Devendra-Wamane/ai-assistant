name: ğŸš€ Auto-Deploy to Railway

# This workflow automatically deploys to Railway on every push
on:
  push:
    branches: [ main ]
    paths:
      - '**.py'
      - 'requirements*.txt'
      - 'Dockerfile'
      - '.github/workflows/deploy-railway-auto.yml'

jobs:
  auto-deploy-railway:
    name: ğŸš‚ Auto-Deploy to Railway
    runs-on: ubuntu-latest
    
    steps:
    - name: ğŸ“¥ Checkout repository
      uses: actions/checkout@v4

    - name: ğŸš‚ Deploy to Railway using Dockerfile
      uses: bervProject/railway-deploy@main
      with:
        railway_token: ${{ secrets.RAILWAY_TOKEN }}
        service: "ai-assistant"
        
    - name: âœ… Deployment Complete
      run: |
        echo "ğŸ‰ SUCCESS: AI Assistant auto-deployed to Railway!"
        echo "ğŸŒ Your app will be live at your Railway URL"
        echo "ğŸ“± Check Railway dashboard: https://railway.app/"
        echo ""
        echo "ğŸ”— Your AI Assistant endpoints:"
        echo "   â€¢ Main App: https://your-app.railway.app/"
        echo "   â€¢ API Docs: https://your-app.railway.app/docs"
        echo "   â€¢ Health: https://your-app.railway.app/health"